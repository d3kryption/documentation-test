"use strict";(self.webpackChunknarrative_docs=self.webpackChunknarrative_docs||[]).push([[6241],{47018:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var s=n(74848),a=n(28453);const i={sidebar_label:"Settlement Loader"},r="Settlement Loader",o={id:"pro/settlements/settlement-loaders",title:"Settlement Loader",description:"The Settlement Loader is an actor that handles the loading and optimisation of a Settlement.",source:"@site/docs/pro/settlements/settlement-loaders.md",sourceDirName:"pro/settlements",slug:"/pro/settlements/settlement-loaders",permalink:"/narrative-documentation/pro/settlements/settlement-loaders",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{sidebar_label:"Settlement Loader"},sidebar:"tutorialSidebar",previous:{title:"Settlements",permalink:"/narrative-documentation/pro/settlements/"},next:{title:"Tales Component",permalink:"/narrative-documentation/pro/tales-component/"}},l={},d=[{value:"Adding a new Settlement Loader",id:"adding-a-new-settlement-loader",level:2},{value:"Loading",id:"loading",level:2},{value:"Settlement Loader Properties",id:"settlement-loader-properties",level:2},{value:"Discoverable Settlements",id:"discoverable-settlements",level:2},{value:"Fast travelling not working",id:"fast-travelling-not-working",level:3}];function c(e){const t={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"settlement-loader",children:"Settlement Loader"})}),"\n",(0,s.jsx)(t.p,{children:"The Settlement Loader is an actor that handles the loading and optimisation of a Settlement."}),"\n",(0,s.jsxs)(t.p,{children:["It links into ",(0,s.jsx)(t.a,{href:"https://dev.epicgames.com/documentation/en-us/unreal-engine/world-partition-in-unreal-engine",children:"World Partition"})," to receive updates when chunks are de-spawning/spawning."]}),"\n",(0,s.jsx)(t.h2,{id:"adding-a-new-settlement-loader",children:"Adding a new Settlement Loader"}),"\n",(0,s.jsx)(t.p,{children:"Adding a new Settlement Loader is as simple as dragging in the Settlement Loader actor into the world."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"loader-actor.png",src:n(40914).A+"",width:"576",height:"85"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"loader-actor-place.png",src:n(72100).A+"",width:"319",height:"230"})}),"\n",(0,s.jsxs)(t.p,{children:["Then populating the ",(0,s.jsx)(t.strong,{children:"Settlement to Load"})," with the Gameplay tag from your ",(0,s.jsx)(t.a,{href:"/narrative-documentation/pro/settlements/",children:"Settlement"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"loader-gameplaytag.png",src:n(17469).A+"",width:"592",height:"93"})}),"\n",(0,s.jsx)(t.h2,{id:"loading",children:"Loading"}),"\n",(0,s.jsxs)(t.p,{children:["When your player arrives near the Settlement Loader, it will spawn in as part of ",(0,s.jsx)(t.a,{href:"https://dev.epicgames.com/documentation/en-us/unreal-engine/world-partition-in-unreal-engine",children:"World Partition"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"/narrative-documentation/pro/settlements/",children:"Settlement base actors"})," are always loaded in, but the Settlement Loader will take care of de-spawning the NPC's to keep it lightweight."]}),"\n",(0,s.jsxs)(t.p,{children:["The reason ",(0,s.jsx)(t.a,{href:"/narrative-documentation/pro/settlements/",children:"Settlement base actors"})," are always loaded in is to allow the player or AI to find their locations on the map, path finding or for quests."]}),"\n",(0,s.jsx)(t.h2,{id:"settlement-loader-properties",children:"Settlement Loader Properties"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SettlementToLoad"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://dev.epicgames.com/documentation/en-us/unreal-engine/using-gameplay-tags-in-unreal-engine",children:"FGameplayTag"})}),(0,s.jsx)(t.td,{children:"The gameplay tag that determines which settlement to load."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SpriteComponent"}),(0,s.jsxs)(t.td,{children:["TObjectPtr<class ",(0,s.jsx)(t.a,{href:"https://dev.epicgames.com/documentation/en-us/unreal-engine/API/Runtime/Engine/Components/UBillboardComponent",children:"UBillboardComponent"}),">"]}),(0,s.jsx)(t.td,{children:"A pointer to the billboard component used for visual representation in the editor."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"discoverable-settlements",children:"Discoverable Settlements"}),"\n",(0,s.jsx)(t.p,{children:"Some settlements you will want to be discoverable by the player, so they can fast travel, return or have markers on their maps."}),"\n",(0,s.jsx)(t.p,{children:"Settlement Loaders contain collision code to enable this functionality, and it's really easy to set up."}),"\n",(0,s.jsx)(t.p,{children:"Select your Settlement Loaders and add a type of collision. This can be a sphere, box or anything."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"settlement-loaders-collision.png",src:n(94830).A+"",width:"645",height:"235"})}),"\n",(0,s.jsxs)(t.p,{children:["Set your CollisionProfile to either ",(0,s.jsx)(t.strong,{children:"OverlapOnlyPawn"})," or a custom channel where only Pawns trigger the collision."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"settlement-loaders-collision-setting.png",src:n(21157).A+"",width:"638",height:"708"})}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:"Be careful what you set the overlap to. Anything that overlaps will trigger the discovery. You don't want your camera or stray bullets triggering it."})}),"\n",(0,s.jsxs)(t.p,{children:["Another optional feature is to check ",(0,s.jsx)(t.strong,{children:"Use Attach Parent Bound"})," under Rendering. This will automatically scale the collision to the size of the settlement."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"use-attach-parent-bound.png",src:n(32434).A+"",width:"637",height:"332"})}),"\n",(0,s.jsx)(t.p,{children:"Now walking into the settlements radius will discover the location."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"settlement-discovered.png",src:n(10031).A+"",width:"792",height:"230"})}),"\n",(0,s.jsx)(t.h3,{id:"fast-travelling-not-working",children:"Fast travelling not working"}),"\n",(0,s.jsx)(t.p,{children:"Sometimes your fast travel to discovered settlements may not work. This normally is caused by the Player not being able to fit at Settlement spawn location without collision issues."}),"\n",(0,s.jsx)(t.p,{children:"Try dragging the settlement up from the ground so the player can spawn."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"fast-travelling-not-working.png",src:n(20030).A+"",width:"531",height:"405"})}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.p,{children:"You may ask why Narrative doesn't automatically move the player. This could cause issues spawning the player inside buildings or locations they are not meant to be but the collision fits."}),(0,s.jsx)(t.p,{children:"It was left in, so it can be purposely placed in the right location."})]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},20030:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/fast-travelling-not-working-d0569916d4eb89fb30b7e8c1b1e20507.png"},72100:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/loader-actor-place-fe48a28af79735722414ddc198d05839.png"},40914:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/loader-actor-c9910a41c9bfef526bd3b149c5d1c953.png"},17469:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/loader-gameplaytag-c9c6460341795c72b03f70ee93e85d79.png"},10031:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/settlement-discovered-132c467e05a2e4d6b3b1506a9fb55929.png"},21157:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/settlement-loaders-collision-setting-212b9e61163ca2d1f3c76764211c6b0f.png"},94830:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/settlement-loaders-collision-8215308c16a14e41c71d417cb083fb4a.png"},32434:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/use-attach-parent-bound-c566b75846dbcb1a0d4e35236188a93d.png"},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var s=n(96540);const a={},i=s.createContext(a);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);